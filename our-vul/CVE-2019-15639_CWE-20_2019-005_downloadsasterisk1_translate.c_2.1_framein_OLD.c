static int framein(struct ast_trans_pvt *pvt, struct ast_frame *f)
{
	
	ast_copy_flags(&pvt->f, f, AST_FRFLAG_HAS_TIMING_INFO);
	pvt->f.ts = f->ts;
	pvt->f.len = f->len;
	pvt->f.seqno = f->seqno;

	if (f->samples == 0) {
		
		if (strcasecmp(f->src, "ast_prod")) {
			ast_log(LOG_WARNING, "no samples for %s\n", pvt->t->name);
		}
	}
	if (pvt->t->buffer_samples) {	
		if (f->datalen == 0) { 
			
			if (!pvt->t->native_plc)
				return 0;
		}
		if (pvt->samples + f->samples > pvt->t->buffer_samples) {
			ast_log(LOG_WARNING, "Out of buffer space\n");
			return -1;
		}
	}
	


	return pvt->t->framein(pvt, f);
}