static void*
WasmHandleExecutionInterrupt()
{
    WasmActivation* activation = JSContext::innermostWasmActivation();

    
    
    
    activation->compartment()->wasm.setInterrupted(true);
    bool success = CheckForInterrupt(activation->cx());
    activation->compartment()->wasm.setInterrupted(false);

    
    
    void* resumePC = activation->resumePC();
    activation->setResumePC(nullptr);

    
    
    return success ? resumePC : nullptr;
}