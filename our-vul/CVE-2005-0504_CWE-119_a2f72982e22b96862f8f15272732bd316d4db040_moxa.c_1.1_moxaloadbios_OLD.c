static int moxaloadbios(int cardno, unsigned char __user *tmp, int len)
{
	void __iomem *baseAddr;
	int i;

	if(copy_from_user(moxaBuff, tmp, len))
		return -EFAULT;
	baseAddr = moxa_boards[cardno].basemem;
	writeb(HW_reset, baseAddr + Control_reg);	
	moxadelay(1);		
	for (i = 0; i < 4096; i++)
		writeb(0, baseAddr + i);	
	for (i = 0; i < len; i++)
		writeb(moxaBuff[i], baseAddr + i);	
	writeb(0, baseAddr + Control_reg);	
	return (0);
}