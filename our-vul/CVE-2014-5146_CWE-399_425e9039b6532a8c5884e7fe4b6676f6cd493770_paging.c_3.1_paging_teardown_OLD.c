void paging_teardown(struct domain *d)
{
    if ( hap_enabled(d) )
        hap_teardown(d);
    else
        shadow_teardown(d);

    
    paging_log_dirty_teardown(d);

    
    p2m_pod_empty_cache(d);
}