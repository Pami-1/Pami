void InitCallbacks(struct mg_context* ctx, Dispatcher* dispatcher,
                    base::WaitableEvent* shutdown_event,
                    bool forbid_other_requests) {
   dispatcher->AddShutdown("/shutdown", shutdown_event);
  dispatcher->AddHealthz("/healthz");
  dispatcher->AddLog("/log");
 
   dispatcher->Add<CreateSession>("/session");
 
  dispatcher->Add<FindOneElementCommand>(  "/session
elements");
  dispatcher->Add<ActiveElementCommand>(   "/session
element
elements
element
element
element
element
element
element
element

element
element
element
element
element
element
element
element

screenshot");

  dispatcher->Add<MoveAndClickCommand>("/sessionclick");
  dispatcher->Add<DragCommand>(        "/sessiondrag");
  dispatcher->Add<HoverCommand>(       "/sessionhover");

  dispatcher->Add<MoveToCommand>(     "/session
click");
  dispatcher->Add<ButtonDownCommand>( "/session
buttonup");
  dispatcher->Add<DoubleClickCommand>("/session

accept_alert");
  dispatcher->Add<AlertTextCommand>(    "/session
back");
  dispatcher->Add<DismissAlertCommand>( "/session
execute");
  dispatcher->Add<ExecuteAsyncScriptCommand>(
                                        "/session
forward");
  dispatcher->Add<SwitchFrameCommand>(  "/session
refresh");
  dispatcher->Add<SourceCommand>(       "/session
title");
  dispatcher->Add<URLCommand>(          "/session
window");
  dispatcher->Add<WindowHandleCommand>( "/session
window_handles");
  dispatcher->Add<SetAsyncScriptTimeoutCommand>(
                                        "/session
timeouts/implicit_wait");

  dispatcher->Add<CookieCommand>(     "/session
cookie/*");

  dispatcher->Add<SessionWithID>("/session/*");

  if (forbid_other_requests)
    dispatcher->ForbidAllOtherRequests();
}